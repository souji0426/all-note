\documentclass[C:/souji/all-note/note]{subfiles}

\begin{document}

このテキストを用いた勉強会の最初の注意として,
論理式という言葉をよく使います.
これは数学においてよく現れる述語論理における記号を拝借して書いた,
日本語に翻訳可能な記号列のことを指します.
より形式的な定め方をすれば,
2つの量化子と呼ばれる記号「$\forall$」と「$\exists$」と変数を指す記号の記号列である主部と,
主部に用いた量化子以外の変数を指す記号を用いて書かれた記号列である述部からなります.
数学に現れる「○○でない」「○○または××」「○○かつ××」「○○ならば××」という表現は,
論理式における述部において使用されますが,
それらは「$\lnot$」「$\lor$」「$\land$」「$\rightarrow$」に変換して記述します.
さらに述部においてはそれまでの議論において定義された記号などが登場します.

主部と述部の区切りを明確にするために「$(,)$」を用いることにします.
人によっては「$.$」を使う人もいます.
例えば「$\forall x\exists y( x+y=0)$」を「$\forall x\exists y . x+y=0$」と書きます.
さらに人によっては主部の先頭以外の量化記号の左に書いたりします.
例えば「$\forall x\exists y \forall z . x+y=z$」は「$\forall x . \exists y . \forall z . x+y=z$」と書きます.
個人的にはこれはやり過ぎに感じますし,
主部と述部の近いが分かりにくくなっていると思うので私は使用しません（あと単純にノートや板書の際に目立たなさすぎるという気もします）.
「$(,)$」は述部内において文章の結合をより明確にするためも使います.
例えば$P,Q,R$を何らかの数学的主張とするとき「$P\land Q\rightarrow R$」は「$P$と$Q\rightarrow R$が$\land$で結合されたもの」と読むか,
「$P\land Q$と$R$が$\rightarrow$で結合されたもの」と読むかで意味は大きく異なります.
どちらの意図で書いたのかを明確にするために「$(,)$」を用いて,
「$P\land( Q\rightarrow R)$」と「$(P\land Q)\rightarrow R$」として書き分けることができます.

日常言語で書かれた数学的主張をわざわざ論理式に書き変えるメリットとして,
その主張の理解が捗り,
定義の理解の補助となったり,
証明するときの目的が明確になるという点が挙げられます.
よって数学では日常言語と論理式の相互翻訳する力が非常に重要になります.
これについては数学をする中で,
数学的な議論に慣れていく仮定で形成されていく能力かもしれませんが,
それを意識的に学ぶことについて書かれたテキスト,
例えば『数学は言葉 』\cite{Basic012}もあります.
このテキストでは論理式のことを数文,
日常言語で書かれた主張のことを和文とよび,
各々への翻訳のことをそれぞれ数文和訳,
和文数訳と呼称しています.
この作業について私個人はとくに名前を付けたりはしませんが,
その大事さへの共感はあります.
よって,
この勉強会の発表でも,
その内容のまとめノートであるこのノートでも論理式は活用していこうと思っています.

しかし1つ問題もあります.
数学基礎論・数理論理学以外の数学では,
おそらくその数学の対象として数学的主張に用いられる記号が登場することはありません.
それゆえにこの分野以外の数学では論理式,
もしくはここでいう論理式で用いる記号を日常言語を省略するために用いても何ら混乱を生むことはありません.
しかしこの分野の対象は数学であり,
もっといえば数学を記述しているその記号もその対象になります.
つまり「日常言語の略記」として用いている論理式に使用する記号と,
「対象としている記号列」としての論理式に使用する記号が被ってしまいます.
ありえない主張ではありますが,
「任意の全称量化子について〜」という主張もそれ自体は許容されており,
その場合,
これを論理式に雑に翻訳した場合「$\forall\forall(\text{〜})$」となり,
（並び順などで分かるといえば分かるんですが）混乱します.
つまりその対象に論理式に用いる記号が登場する可能性が高い分野では,
論理式の使用は非常に注意しなくてはなりません.
私たちが略記として用いる論理式に使用する記号のことをメタ記号,
対象となっている記号のことをオブジェクト記号という名付けて区別することもあり,
それに合わせてメタ記号としての量化記号には○で囲む,
オブジェクト記号の方はそのまま使用するという方法もありますが,
それはこの勉強会に必要がでてきたタイミングで導入する可能性があります.
今現在は慎重に用いればメタとオブジェクトの混乱はないだろうと思っています.

ここでは論理式に翻訳するさいに,
何もかも日本語の混ざっていない文章にしなくてはいけないという制約はないことにします.
もちろん定義したあらゆる述語に対して日本語以外の文字（主にアルファベット）での略記方法を導入することも可能ですが,
それだと記法を増やすだけです.
なのでなるべく定義する記号を減らしつつ,
論理式を記述するために以下の述語用の記号を用意します.

\begin{notation}[コロン記法]
  \label{notation:コロン記法}
  「○○は××である」という数学的主張の略記として「○○$:$××」と書く.
\end{notation}

上記の○○には大抵変数として使用する記号が入ります.
例えば「$p$を素数とする」という数学的主張を「$p:\text{素数}$」と略記します.
これだけだと大した略記になっていないと思われるかもしれませんが,
「素数は無限に存在する」つまり「任意の素数に対してそれより大きい素数が存在する」という主張は,
「$\forall n\left(\ n:\text{素数}\ \rightarrow \ \exists p(\ p:\text{素数}\land n<p\ )\ \right)$」と表現できます.

数学では「$\forall x( x\in A\rightarrow x\in B)$」や「$\exists x( x>0 \land x-1=0)$」という形の論理式を,
「$\forall x\in A( x\in B)$」や「$\exists x>0( x-1=0 )$」と省略することがあります.
もっと抽象的に省略規則を定めます.

\begin{notation}[論理式の省略]
  \label{notation:論理式の省略}
  ここでは$P(x)$を$x$を用いた何らかの数学的主張,
  $Q$を何らかの数学的主張とします.
  \begin{itemize}
    \item[1.]
      「$\forall x(\ P(x)\rightarrow Q\ )$」という形の論理式があったとき,
      これを「$P(x)\text{の}x\text{に}\forall\text{をつけた記号列}(Q)$」と略記できる.
    \item[2.]
    「$\exists x(\ P(x)\land Q\ )$」という形の論理式があったとき,
    これを「$P(x)\text{の}x\text{に}\exists\text{をつけた記号列}(Q)$」と略記できる.\qedhere
  \end{itemize}
\end{notation}

たとえば$P(x)$が$x>0$だったとき,
$\forall x( x>0 \rightarrow Q)$を$\forall x>0( Q )$と,
$\exists x( x>0 \land Q)$を$\exists x>0( Q )$と略記できます.
また$P(x)$が$0<x$だった場合は愚直に$0<\forall x$とせずに,
$P(x)$を同値な言い換えを行って$x$が最左側に来るように,
つまりすぐ上のように$0$と$x$を入れ替えて表現します.

ただどんな$P(x)$でもできるとは限らないことには注意です.
$P(x)$が$0<x<1$だったときは規則通りに略記するならば$0<\forall x<1$となりますが,
私はなんとなくこの書き方は好みません（採用している人はいます）.

この略記が向く$P(x)$は,
$x$しか変数が登場しない短い数学的主張であることが多いと思います.
よくあるのは$<$や$\in$などですが,
先に定義したコロン記法はこのとき非常に便利なものになります.
例えば先ほどの「$\forall n\left(\ n:\text{素数}\ \rightarrow \ \exists p(\ p:\text{素数}\land n<p\ )\ \right)$」は,
「$\forall n:\text{素数}(\ \exists p:\text{素数}(n<p)\ )$」と非常に短く,
分かりやすくなります.

テキストの内容に入るまでの自前の定義はここまでです.
次はテキストに書いてある内容に注目していきます.

\begin{notation}[ジャーゴン(E:p1~2,\ K:p1~2)]
  \label{notation:ジャーゴン}
  数学用語になかで,
  このノートを通じて用いるものを4つ挙げる.
  \begin{itemize}
    \item[1.]
      定義や定理の主張の終わりを表す記号として$\blacksquare$を,
      証明の終わりを表す記号として$\square$を用いる.
      \footnote{
        原書でも和訳でも$\dashv$となっていますが,
        私が普段使わないので$\square$にさせてもらうことにしました.
      }
    \item[2.]
      「○○ならば××である」という含意を表す文章を「○○$\Rightarrow$××」と略記する.
      \footnote{
        「○○$\Rightarrow$××」のような形の命題があったとき,
        ○○の部分をこの命題の前件,
        ××の部分をこの命題の後件と読んだりします.
        原著でも和訳でも「...ならば...である」と前件も貢献も「...」で表現されていますが,
        細かいことをいうと,
        これだと前件も後件も同じ主張が入るのかなと誘導しそうだと思い,
        自分では○○と××を使ってみました.
      }
      逆向きの含意を表すのに$\Leftarrow$を使うこともあります. \\
      「○○であるのは,
      ××であるとき,
      かつそのときに限る」を「○○は××と同値である」と述べたり,
      記号$\Leftrightarrow$を,
      「○○$\Leftrightarrow$××」のように使ったりする.
    \item[3.]
      「したがって」という言葉の代わりに省略記号$\therefore$を,
      「なぜなら」という言葉の代わりに省略記号$\because$を用いる.
      とくに証明中に$\because$を用いる場合はぶら下げを使って,
      その理由部分を書く.
      \footnote{
        $\therefore$は普段から使わないのでこのノートでも使わないと思います.
        それとは別に$\because$は普段から積極的に使っているので,
        ここに載せました.
        また$\because$を使ったときにどこからどこまでがその理由であるか,
        理由が長ければ長いほど分かりにくくなるので,
        ぶら下げを使うことにしています.
        これの利点は証明を読む場合にその理由を読む必要がなければ,
        ぶら下げ部分全体を目で飛ばしてしまえばいいからです.
        これと同じで証明中の場合分けや,
        同値証明を含意方向別に見やすくするため,
        つまり必要条件確認と十分条件確認を分けて見やすくするために,
        その各部分にぶら下げを使ったりしています.
      }
    \item[4.]
      関係を表す記号に斜線を重ねることでその関係の否定を表すことがある.
      例えば「$x=y$」の否定として「$x\neq y$」や「$x\in y$」の否定として「$x \notin y$」と書く.
      このテキストで新たに導入する記号,
      例えば$\models$に対しても同様に$\not\models$のようにして,
      このルールを適用する. \qedhere
  \end{itemize}
\end{notation}

テキストでは「$\Rightarrow$」と「$\Leftrightarrow$」の2つの日常言語文の省略用記号の使い方も紹介しています.
しかしこれらは「$\rightarrow$」や「$\leftrightarrow$」という記号を数学的対象として証明中に扱う,
これからの議論においては利用方法次第では混乱を招くと考えました.
私なりのこのノートでの利用方法については\NoteRef{notation:二重矢印}にて紹介します.

\begin{definition}[集合(E:p1~2,\ K:p2)]
  \label{definition:集合}
  ものの集まりのことを\textbfgt{set}{集合}という. \\
  集合という集まりに属する「もの」のことをその集合の\textbfgt{member}{要素}または\textbfgt{element}{元}と呼ぶ.
  この「もの」のことをオブジェクトとも呼んだりする.
  \footnote{
    個人的には「元」というと,
    その集合に何らかの数学的構造が入っているようなイメージがあるので,
    単なる集合の属するものに対しては「要素」を使っていきます.
    このイメージを持っていると理由としては,
    単位元とはいっても単位要素とはあまりいわれない点でしょうか.
  }
  オブジェクト$x,y$が同一のものであるとき,
  $x=y$と表す. \\
  もの$t$が集合$A$の要素であることを$t\in A$で表す. \\
  集合$A,B$に対して
  \begin{center}
    どのオブジェクト$t$についても,
    $t\in A$であれば$t\in B$であり,
    かつ$t\in B$であれば$t\in A$である
  \end{center}
  （論理式で書けばたとえば$\forall t( \  t\in A \to t\in B\ \land \  t\in B \to t\in A \ )$や,
  $\forall t( \  t\in A \Leftrightarrow t\in B\ )$となる）をみたすとき,
  集合$A,B$は等しいと言い,
  $A=B$で表す.
\end{definition}
\index{しゅうごう@集合}\index{set}

ここでいうオブジェクトとは集合として集めるべき価値のあるもの,
すなわち数学的対象ともいうべきものだと思えます.
日常言語的に用いる「もの」とオブジェクトを指す「もの」の区別を付けるために,
オブジェクトを指す「もの」は以降「モノ」と書いたりもします.

\begin{definition}[E:p2,\ K:p2]
  \label{definition:セミコロン演算}
  モノ$t$と集合$A$に対して,
  その要素が$t$か$A$に属する要素のみであるような集合を$A;t$で表す. \\
  のちに定義する和集合記号$\cup$を用いて定義しなおせば,
  $A;t\defeq A\cup \{ t \}$となる.
  「$\defeq$」という表記に関してはすぐ下のNotationを参照のこと.
  \footnote{
    この$A;t$という記法はここで初めて見た.
    どこまでメジャーなんだろうか.
  }
\end{definition}
\RegisterInSymbolList{$A;t$}{definition:セミコロン演算}

\begin{notation}[定義するための記号]
  \label{notetion:定義するための記号}
  モノ（数学的対象）を定義するさいに「$\defeq$」,
  \footnote{
    この記号はテキストでは導入されていないが,
    ほかの数学書でもよく使うし表現を簡略化するためにも積極的に使っていく.
    また「$\defeq$」の代わりに「$:=$」はよく使われている印象がある.
    ただこれは証明内での一時的な定義にも使用している人もいるような気がする.
  }
  （数学的な）述語を定義するさいに「$\defarr$」を用いる.
  使い方としてはこれらに記号の左側に変数などを利用した新たな述語を記述し,
  右側に日常言語で書かれたそれらの定義を書く.
  ここまでの定義を使用例を出すと
  \begin{itemize}
    \item $A;t\ \defeq\ $その要素が$t$か$A$に属する要素のみであるような集合（Definition \ref{definition:セミコロン演算}）
    \item
      $A=B\ \defarr\ $どのオブジェクト$t$についても,
      $t\in A$であれば$t\in B$であり,
      かつ$t\in B$であれば$t\in A$である（Definition \ref{definition:集合}） \qedhere
  \end{itemize}
\end{notation}
\RegisterInSymbolList{$\defeq$}{notetion:定義するための記号}
\RegisterInSymbolList{$\defarr$}{notetion:定義するための記号}

\begin{proposition}[]
  モノ$t$と集合$A$に対して,
  $t\in A\ \Leftrightarrow\ A;t=A$.
\end{proposition}

\begin{proof}
  同値であることを示すので,
  $t\in A\ \Rightarrow\ A;t=A$と$A;t=A\ \Rightarrow\ t\in A$の2つを示す必要がある.
  \begin{itemize}
    \item[] $t\in A\ \Rightarrow\ A;t=A$の証明 \\
      $t\in A$とすると,
      $t$はすでに$A$の要素であるため,
      $A;t$のどの要素も$A$の要素であり$t$も含めてそれ以外の要素が含まれることがない.
      つまり$A;t=A$.
    \item[] $A;t=A\ \Rightarrow\ t\in A$の証明 \\
      $A;t=A$とすると,
      集合$A;t$のどの要素も$A$の要素であるから,
      $A;t$に属する$t$もまた$A$の要素でなくてはならない.
      つまり$t\in A$. \qedhere
  \end{itemize}
\end{proof}

\begin{definition}[空集合(E:p2,\ K:p2~3)]
  \label{definition:空集合}
  要素を全く持たない集合を\textbfgt{empty set}{空集合}といい,
  $\emptyset$で表す.
  集合$A$が空であることは$A=\emptyset$で表せ,
  （論理式で書けば例えば$\forall x(\ x\notin A\ )$となる）
  空集合でない集合を\textbf{non empty}な（\textgt{空でない}）集合と呼ぶ.
\end{definition}
\index{くうしゅうごう@空集合}\index{empty set}
\RegisterInSymbolList{$\emptyset$}{definition:空集合}

\begin{notation}[E:p2,\ K:p3]
  \label{notation:自然数全体の集合}
  \label{notation:整数全体の集合}
  \label{notation:実数全体の集合}
  自然数全体の集合$\{ 0,1,2,\dots \}$を$\mathbb{N}$で,
  \footnote{
    ところで「$\mathbb{N}$を自然数の集合とする」だと,
    自然数の集合というものを定義して,
    それに$\mathbb{N}$という記号を割り当てたという定義の主張に見えますが,
    ここにあるように「自然数全体の集合を$\mathbb{N}$で表す」だと,
    単に今後その記号を使うという記法の導入にも見えます.
    なのでここでは定義ではなく記法としてみました.
  }
  整数全体の集合$\{ \dots,-2,-1,0,1,2,\dots \}$を$\mathbb{Z}$で,
  実数全体の集合を$\mathbb{R}$で表す.
  \footnote{
    実数全体集合は今後も必要なので導入しておいた.
  }
\end{notation}
\RegisterInSymbolList{$\mathbb{N}$}{notation:自然数全体の集合}
\RegisterInSymbolList{$\mathbb{Z}$}{notation:整数全体の集合}
\RegisterInSymbolList{$\mathbb{R}$}{notation:実数全体の集合}

\begin{definition}[外延的記法(E:p2,\ K:p3)]
  モノ$x,x_1,\dots,x_n$に対して,
  \begin{itemize}
    \item[1.] $x$のみを要素にもつ集合を$\{ x \}$で表す.
    \item[2.] $x_1,\dots,x_n$のみを要素にもつ集合を$\{ x_1,\dots,x_n \}$で表す.
    \item[3.]
      $\{ 0,1,2,\dots \}$は自然数全体の集合$\mathbb{N}$を表し,
      $\{ \dots,-2,-1,0,1,2,\dots \}$は整数全体の集合$\mathbb{Z}$を表す. \qedhere
  \end{itemize}
\end{definition}

集合は要素の表現の順番を変えても同じ集合です.
以下の主張を示せばそれが分かります.

\begin{proposition}[E:p2,\ K:p3]
  モノ$x,y$に対して,
  $\{ x,y \} = \{ y,x \}$である.
\end{proposition}

\begin{proof}
  証明略.
\end{proof}
\ToDoLater{
  集合は要素の表記の順番が異なっても同じ集合になる.
  素朴集合論の基礎勉強の時に示してみる.
}

\begin{definition}[内包的記法(E:p2,\ K:p3)]
  $\SetBar{x}{ \text{\_}x\text{\_} }$と書いて$\text{\_}x\text{\_}$をみたす全てのモノの集合を表す.
  \footnote{
    ここはテキストにならったのですが,
    $\text{\_}x\text{\_}$はかなり曖昧だと思いました.
    $x$に関する命題とか文と言ってしまえば,
    これから命題や文という単語を対象につけることがあるような当分野においては避けたい表現ではある（そして表現という単語も今後登場する………）.
    $\text{\_}x\text{\_}$の代わりに$P(x)$や$\varphi(x)$などを使って,
    $x$を変数とする命題かのように表現することもありますが,
    それもこの場合は意図的に避けたのだろうと思います.
    避けた理由としては,
    今度は主張における変数とは何かを説明しなくてはならないからでしょうか.
  }
\end{definition}

テキストでは「この書き方はめいっぱい柔軟に用いることにする」とあり,
その使用例として
$\SetBar{ \op{m}{n} }{ \text{$m,n$は$\mathbb{N}$の要素で$m<n$} }$
が挙げられています.
論理式で書けば
$\SetBar{ \op{m}{n} }{ m,n\in\mathbb{N}\land m<n }$
となります.
ここにおいて「柔軟」という言い方も曖昧だと思います.
定義にある書き方になぞるならこの集合は
$\SetBar{x}{ \exists m,n\in\mathbb{N}(\ x=\op{m}{n}\land m<n }$と書くべきでしょうか.
ちなみに『論理と集合から始める数学の基礎』\cite{Basic001}では内包的記法における$|$の左に変数一文字ではなく,
いくつかの変数を用いた表現が使われている記法を,
内包的記法と区別して置換型記法と呼んでいたりします.
たしかにこの2つの記法は同じではないので,
区別する必要があると思われます（普通の数学書でそう区別はしないことは多いと思いますが）.
なのでここの柔軟さはかなり曖昧に思えました.
置換型記法とはノート冒頭で論理式に対して定義した略記（\NoteRef{notation:論理式の省略}）の,
集合を定義するための応用と思うこともできます.

後々のための以下のような整数の部分集合を定義します.

\begin{definition}[整数の区間集合]
  \label{definition:整数の区間集合}
  $m<n$な整数$m,n$に対して,
  $\{ m,\dots,n\}\defeq \SetBar{x\in \mathbb{Z}}{m<x<n}$
  \footnote{
    細かいことをいうと$m<x<n$とは$m<x\land x<n$の略記です.
  }
  .
\end{definition}

よく使うのは自然数$n$に対して,
$\{ 0,\dots ,n \}$や$\{ 0, \dots ,n-1\}$などですが,
ここで$n=0$の場合,
前者は$\{ 0 \}$,
後者はその定義から$0<x<-1$を満たす整数が存在しないため空集合になります.

\begin{definition}[部分集合(E:p2,\ K:p3)]
  \label{definition:部分集合関係}
  集合$A,B$に対して集合$A$の要素がすべて$B$の要素でもあるとき,
  $A$は$B$の\textbfgt{subset}{部分集合}であるといい,
  $A\subseteq B$で表す.
  （論理式で書けば$\forall x(x\in A\to x\in B)$となる）
\end{definition}
\index{ぶぶんしゅうごう@部分集合}\index{subset}
\RegisterInSymbolList{$A\subseteq B$}{definition:部分集合関係}

\begin{proposition}[(E:p2,\ K:p3)]
  $\emptyset$はどんな集合に対しても部分集合となる.
\end{proposition}

\begin{proof}
  証明略.
\end{proof}
\ToDoLater{
  空集合はどんな集合でも部分集合になる.
  素朴集合論の基礎勉強の時に示してみる.
}

ここで改めて二重矢印記号の使い方について説明します.
私なりの運用方法は以下のようになっています.

\begin{notation}[二重矢印]
  \label{notation:二重矢印}
  ある定理の証明中において,
  何らかの数学的主張,
  もしくはそのそれを表す記号である$P,Q$に対し,
  「$P$を仮定し$Q$を証明する」という宣言の略記として「$P\Rightarrow Q$」を用いる. \\
  数学的主張の同値な言い換えをつなぐ記号として$\Leftrightarrow$を用いる.
\end{notation}

「$\Rightarrow$」は例えば,
定理の主張内において$(1),(2)$と名付けられた主張に対しその2つが同値であることを示せというものがあったとき,
その証明のどこからどこまでがどちらを仮定してどちらを示したのかを分かりやすくするために,
「$(1)\Rightarrow (2)$」「$(2)\Rightarrow (1)$」を書き,
その間にぶら下げを用いて証明を書きます.
証明の中では使用されていますが,
証明の議論展開が分かりやすくなるのと,
二重でない矢印記号との同レベルでの使用ではないため混乱をしにくいと思って活用しています.

「$\Leftrightarrow$」はその左右に数学的主張,
もしくはそれを表す記号が入り,
また主張は日常言語や論理式のどちらでもあり得ます.
例えば証明中に定義の確認をする目的で先の定義のための記号と併用して以下のような記述が可能です.
\begin{align*}
  A\subseteq B \ &\defarr \ \forall x(\ x\in A\rightarrow x\in B\ ) \\
  &\Leftrightarrow \ \text{任意の}x\text{に対して}x\in A\text{ならば}x\in B \\
  &\Leftrightarrow\ \text{全ての}A\text{の要素は}B\text{の要素でもある}.
\end{align*}

\begin{definition}[べき集合(E:p2,\ K:p3)]
  \label{definition:べき集合}
  集合$A$に対して$A$のすべての部分集合からなる集合を$A$の\textbfgt{power set}{べき集合}とよぶ,
  $\mathcal{P}(A)$で表す.
  より正確には$\mathcal{P}(A)\defeq \SetBar{X}{ X\subseteq A }$.
  \footnote{
    テキストでは$\mathcal{P}A$だが個人的には$\mathcal{P}(A)$が好きなのでこちらを使っていくことにしました.
  }
\end{definition}
\index{べきしゅうごう@べき集合}\index{power set}
\RegisterInSymbolList{$\mathcal{P}(X)$}{definition:べき集合}

\begin{example}[E:p3,\ K:p4]
  $\mathcal{P}(\emptyset)\ =\ \{\emptyset\}$ \\
  $\mathcal{P}(\{\emptyset\})\ =\ \{\emptyset, \{\emptyset\}\}$
\end{example}

\begin{definition}[和集合と共通部分(E:p3,\ K:p4~5)]
  \label{definition:和集合}
  \label{definition:共通部分}
  \label{definition:2つの集合が交わらない}
  \label{definition:集合族の和集合}
  \label{definition:集合族の共通部分}
  $A,B$を集合,
  $\mathcal{A}$を全ての要素が集合であるような集合とする.
  \footnote{
    テキストではいきなりこんな集合が登場したけど,
    なんで「集合族」のような語を用意しなかったのだろうか.
  }
  \footnote{
    テキストでは集合でも集合族でも単なる$A$で表現していた.
    個人的には集合族には記号の衝突が起こらない（つまり理論を展開するさいに必須な記号と被らない）かぎり,
    集合族には筆記体（カリグラフィーとどう違うのか分からないけれども………）を使うのが好み.
    ただ要素が集合であろうが（集合に見えない）モノであろうが,
    もし全てが集合である$ZF$集合論のような世界では,
    集合と集合族に区別がないという意味でこの記法を採用しているならば,
    集合論研究者としては好感のもてる一貫性です.
  }
  さらに各自然数$n$に対して集合$A_n$が定まっているとする.
  \begin{itemize}
    \item[1.]
      $A\cup B\defeq
      \SetBar{x}{ x\in A\text{または}x\in B }$（$=\SetBar{x}{ x\in A\lor x\in B }$）とし,
      これを$A$と$B$の\textbfgt{union}{和集合}という.
    \item[2.]
      $A\cap B\defeq
      \SetBar{x}{ x\in A\text{かつ}x\in B }$（$=\SetBar{x}{ x\in A\land x\in B }$）とし,
      これを$A$と$B$の\textbfgt{intersection}{共通部分}という.
    \item[3.]
      $A\cap B=\emptyset$であるとき,
      $A$と$B$は\textbfgt{disjoint}{交わらない}という.
      $\emptyset\notin \mathcal{A}$な集合族$\mathcal{A}$のどの異なる2個の要素も交わらないとき,
      $\mathcal{A}$は\textbfgt{pairwise disjoint}{互いに素}という.
    \item[4.]
      $\bigcup\mathcal{A}\defeq
      \SetBar{x}{\text{$x$は$A$のいずれかの要素に属する}}$（$=\SetBar{x}{ \exists A( x\in A \land A\in \mathcal{A}) }$）とし,
      これを$\mathcal{A}$の\textbfgt{union}{和集合}という.
    \item[5.]
      $\mathcal{A}\neq \emptyset$なとき,
      $\bigcap\mathcal{A}\defeq \SetBar{x}{ \text{$x$は$A$のすべての要素に属する} }$（$=\SetBar{x}{ \forall A( x\in A \\rightarrow A\in \mathcal{A}) }$）とし,
      これを$\mathcal{A}$の\textbfgt{intersection}{共通部分}という.
    \item[6.]
      $\bigcup_{n\in\mathbb{N}}A_n\defeq \bigcup \SetBar{A_n}{ n\in \mathbb{N} }$とする.
      これを単に$\bigcup_{n}A_n$と表すこともある.
      \footnote{
        これは添え字付き集合族の和集合ともいえるものだけど,
        なぜ添え字付き集合族の共通部分は定義しなかったのだろう（単に今後使わないだけ？）.
      }
      \qedhere
  \end{itemize}
\end{definition}
\index{わしゅうごう@和集合}\index{union}
\RegisterInSymbolList{$A \cup B$}{definition:和集合}
\index{きょうつうぶぶん@共通部分}\index{intersection}
\RegisterInSymbolList{$A \cap B$}{definition:共通部分}
\index{まじわらない@（2つの集合が）交わらない}\index{disjoint}
\index{わしゅうごう@（集合族の）和集合}\index{union}
\RegisterInSymbolList{$\bigcup\mathcal{A}$}{definition:集合族の和集合}
\index{きょうつうぶぶん@（集合族の）共通部分}\index{intersection}
\RegisterInSymbolList{$\bigcap\mathcal{A}$}{definition:集合族の共通部分}

ここで集合族の共通部分に関して,
テキストでは空でないことを要求していなかった.
もし雑に万有集合を扱ってよいならば,
空な集合族の共通部分は万有集合になるとすればいいです.
しかしそのような集合をモノとして扱うことのできない$ZF$集合論のような立場では,
共通部分とは空でない集合族にしか定義できないと定めることが定石です.
ここでいう「モノとして扱うことができない」とは,
公理から存在を保証できなかったり,
存在を仮定すると公理に対して矛盾したりすることをいいます.

\begin{example}[E:p3,\ K:p4~5]
  モノ$t$,
  集合$A,B$,
  集合族$\mathcal{A}=\{ \{ 0,1,5 \}, \{ 1,6 \}, \{ 1,5 \} \}$に対して以下が成立.
  \begin{itemize}
    \item[1.] $A;t=A\cup \{ t \}$.
    \item[2.]
      $\bigcup\mathcal{A}=\{ 0,1,5,6 \}$. \\
      $\bigcap\mathcal{A}=\{ 1 \}$.
    \item[3.] $A\cup B=\bigcup\{ A,B \}$.
    \item[4.] $\bigcup\mathcal{P}(A)=A$. \qedhere
  \end{itemize}
\end{example}

\begin{definition}[順序対(E:p3~4,\ K:p5)]
  \label{definition:順序対}
  モノ$x,y,z,x_1,\dots,x_n,x_{n+1}$に対して
  \begin{itemize}
    \item[1.]
      $\op{x}{y}\defeq \{ \{ x \}, \{ x,y \} \}$とし,
      これを$x$と$y$の\textbfgt{ordered pair}{順序対}という.
      \footnote{
        これは順序対のKuratowski流の定義と言われています.
        他の流儀などはWikipedia『順序対』\cite{Wiki002}も参考に.
      }
      順序対$\op{x}{y}$における$x,y$をこの順序対の成分といい,
      とくに$x$を第一成分,
      $y$を第二成分と呼んだりする.
      \footnote{
        定義されていなかった言葉遣いだったのでなんとなく定義しておいた.
      }
    \item[2.]
      $\triple{x}{y}{z}\defeq \op{\op{x}{y}}{z}$とし,
      より一般的に$n>1$に対して$\ntuple{x_1}{x_{n+1}}\defeq \op{\ntuple{x_1}{x_n}}{x_{n+1}}$と帰納的に定義する.
    \item[3.]
      とくに$\singleseq{x}=x$と定義する.
      \footnote{
        これの妥当性として,
        すぐ後ろで$\op{x}{y}$とは$x,y$とオブジェクトが並んだ列と見なすので,
        $\singleseq{x}$とは$x$1つが並んでいる初項のみの列と思えば$\singleseq{x}=x$であるほうが自然に見える.
        またKuratowski流の定義によれば$\op{x}{x}=\{ \{ x \} \}$となりこれと単なる$x$とを区別しやすくなる.
      }
      \qedhere
  \end{itemize}
\end{definition}
\index{じゅんじょつい@順序対}\index{ordered pair}
\RegisterInSymbolList{$\op{x}{y}$}{definition:順序対}

\begin{definition}[有限列(E:p4,\ K:p5)]
  \label{definition:有限列}
  集合$A$に対して
  \begin{itemize}
    \item[1.]
      $S$が$A$の要素からなる\textbfgt{finite sequence}{有限列}（あるいは\textbfgt{string}{列}）であるとは,
      ある正の整数$n$について$S=\ntuple{x_1}{x_n}$で各$x_i$が$A$の要素であるときとする.
      （論理式で書くと$\exists n\in \mathbb{Z}(\ n>0\ \land \ x_1,\dots ,x_n\in A\ \land\ S=\ntuple{x_1}{x_n}\ )$） \\
      またこのときの$n$を有限列$A$の\textgt{長さ}とよぶ.
      \footnote{
        テキストにおいて写像における有限列の定義について言及していますが,
        これは例えば長さ$n$の$A$の有限列$S$は$\{ 1,\dots,n\}$から$A$への写像として定義できます.
      }
    \item[2.]
      $A$の要素からなる有限列$S=\ntuple{x_1}{x_n}$に対し,
      $1\leq k\leq m\leq n$な$k,m$でもって$\ntuple{x_k,x_{k+1}}{x_{m-1},x_m}$な形の有限列を$S$の\textbfgt{segment}{区間}という.
      とくに$k=1$な区間を$S$の\textbfgt{initial segment}{始切片}といい,
      $m\neq n$な始切片を$S$の\textbfgt{proper initial segment}{真の始切片}という. \qedhere
  \end{itemize}
\end{definition}
\index{ゆうげんれつ@有限列}\index{finite sequence}
\index{れつ@列}\index{string}
\index{くかん@（有限列の）区間}\index{segment of finite sequence}
\index{しせっぺん@（有限列の）始切片}\index{initial segment of finite sequence}
\index{しんのしせっぺん@（有限列の）真の始切片}\index{proper segment of finite sequence}

有限列には空列という長さ$0$の列という概念もありますが,
ここでは有限列といったとき,
そのような列は考慮しないこととします.

\begin{proposition}[E:p4,\ K:p6]
  モノ$x_1,\dots,x_n,y_1,\dots,y_n$に対して$\ntuple{x_1}{x_n}=\ntuple{y_1}{y_n}$ならば,
  $1\leq i\leq n$な各$i$について$x_i=y_i$.
\end{proposition}

\begin{proof}
  示すべきことを論理式で書くと
  \begin{equation*}
    \forall n\in \mathbb{N}\left(\ \forall x_1,\dots,x_n,y_1,\dots,y_n \left(\ \ntuple{x_1}{x_n}=\ntuple{y_1}{y_n}\ \to\ \forall i(\ 1\leq i\leq n\to x_i=y_i\ )\ \right)\ \right)
  \end{equation*}
  となる.
  よって$n\in \mathbb{N}$について数学的帰納法を用いて証明する.
  \begin{itemize}
    \item[]\hspace{-0.5cm}（Basis） \\
      その定義より$\singleseq{x}=x$だから,
      $\singleseq{x_1}=\singleseq{y_1}$ならば$x_1=y_1$である.
    \item[]\hspace{-0.5cm}（Induction step） \\
      $n$のときに成立しているとする.
      任意に取った$x_1,\dots,x_n,x_{n+1},y_1,\dots,y_n,y_{n+1}$に対して,
      $\ntuple{x_1}{x_{n},x_{n+1}}=\ntuple{y_1}{y_{n},y_{n+1}}$だったとする.
      一般的な順序$n$個組の定義から
      \begin{gather*}
        \ntuple{x_1}{x_{n},x_{n+1}}\ =\ \op{\ntuple{x_1}{x_n}}{x_{n+1}}, \\
        \ntuple{y_1}{y_{n},y_{n+1}}\ =\ \op{\ntuple{y_1}{y_n}}{y_{n+1}}
      \end{gather*}
      であり,
      今順序対の定義から第一成分・第二成分同士が等しいので,
      \begin{gather*}
        \ntuple{x_1}{x_n}\ =\ \ntuple{y_1}{y_n}, \\
        x_{n+1}\ =\ y_{n+1}
      \end{gather*}
      となる.
      今に任意に取られた$n$個の要素たちについては
      \begin{equation*}
        \ntuple{x_1}{x_n}=\ntuple{y_1}{y_n}\ \to\ \forall i(\ 1\leq i\leq n\to x_i=y_i\ )
      \end{equation*}
      が成立しているので,
      $x_{n+1}=y_{n+1}$とまとめると,
      $\forall i(\ 1\leq i\leq n+1\to x_i=y_i\ )$となるので,
      $n+1$の場合もOK. \qedhere
  \end{itemize}
\end{proof}

ここで初めて登場した数学的帰納法の証明について補足します.
数学的帰納法は自然数全てに対しての主張もしくは,
ある自然数以降の全ての自然数に対しての主張の証明に用いるものです.
自然数の性質として（場合によっては公理として要請される）数学的帰納法の原理とは,
ある自然数に対しての数学的主張を$P(n)$と書くことにしたとき,
どんな主張$P(n)$に対しても
\begin{equation*}
  \Big( \ P(0)\land \forall n\big (P(n)\rightarrow P(n+1)\big ) \ \Big)\ \rightarrow \ \forall n(P(n))
\end{equation*}
が成立するというものです.
より一般的な数学的帰納法の原理とは,
どんな主張$P(n)$に対しても
\begin{equation*}
  \Big( \ P(k)\land \forall n\geq k\big( P(n)\rightarrow P(n+1)\big ) \ \Big)\ \rightarrow \ \forall n\geq k(P(n))
\end{equation*}
が成立することとなります.
先の原理は$k=0$としたときの場合です.
つまり「$\forall n(P(n))$」や「$\forall n\geq k(P(n))$」を証明したい場合は,
「$ P(0)\land \forall n\big (P(n)\rightarrow P(n+1)\big )$」や「$P(k)\land \forall n\geq k\big( P(n)\rightarrow P(n+1)\big )$」を示せばよいということです.
つまり証明は2つの部分に分かれるわけですが,
大抵は以下のように書きます.
\begin{proof}
  \ \\
  \vspace{-0.5cm}
  \begin{itemize}
    \item[]\hspace{-0.5cm}（\ $P(0)$\ ） \\
      …
    \item[]\hspace{-0.5cm}（\ $\forall n\big (P(n)\rightarrow P(n+1)\big )$\ ） \\
      …
      \footnote{
        高校数学ではこのステップが「$n=k$が成り立つとして$n=k+1$とすると〜」なんて書き出したりしますが,
        今にして思えば非常に気持ち悪い文章です.
        ですがおそらく高校数学においては$n$はいつでも自然数を表すグローバル変数のようなもので,
        $k$は1つの証明の中で用いるローカル変数のような気分で使っているとも思えるので,
        そこまで不思議でもなかったり.
      } \qedhere
  \end{itemize}
\end{proof}
ただ証明によって「$P(0)$」や（何らかの具体的な$k$について）「$P(k)$」などと書きわけるのも面倒です.
どちらにしても証明の構造は変わらないですし,
今示そうとしているのが$P(0)$なのか$P(k)$なのかは文脈から明らかであると思うので,
私は先の証明のように「$P(0)$」や「$P(k)$」については「\textbf{Basis}」,
もう1つの部分の証明に関しては「\textbf{Induction step}」と名付けています.
BasisではなくBase stepという（より統一感のある）呼び名もありますが,
私が好きな『論理学をつくる』\cite{Logic003}に合わせています.
以降の数学的帰納法を用いる証明も先の証明同様この表現方法で証明を記述していきます.


\begin{lemma}[E:p4 LEMMA 0A,\ K:p6 補題0A]
  \label{lemma:長さの違う有限列が一致するとき始切片で帳尻が合う}
  $\ntuple{x_1}{x_m}=\ntuple{y_1,\dots,y_m}{y_{m+k}}$ならば$x_1=\ntuple{y_1}{y_{k+1}}$.
\end{lemma}

\begin{proof}
  示すべきことを論理式で書けば
  \begin{equation*}
    \forall k\in \mathbb{N}\left(\ \forall m\in \mathbb{N}\forall x_1,\dots,x_m,y_1,\dots,y_{m+k}
    \big(\ \ntuple{x_1}{x_m}=\ntuple{y_1,\dots,y_m}{y_{m+k}}\ \to\ x_1=\ntuple{y_1}{y_{k+1}}\ \big)\ \right)
  \end{equation*}
  となる.
  任意に$k\in \mathbb{N}$をとる.
  このあとの主張に対して$m\in \mathbb{N}$についての数学的帰納法を用いる.
  \begin{itemize}
    \item[]\hspace{-0.5cm}（Basis） \\
      $m=1$を仮定に代入すると$\singleseq{x_1}=\ntuple{y_1,y_2}{y_{1+k}}$となり,
      定義より$\singleseq{x_1}=x_1$から成立.
    \item[]\hspace{-0.5cm}（Induction step） \\
      $m$のときに成立しているとする.
      $\ntuple{x_1}{x_{m+1}}=\ntuple{y_1,\dots,y_m}{y_{m+1+k}}$を仮定する.
      一般順序組の定義から
      \begin{gather*}
        \ntuple{x_1}{x_{m+1}}\ =\ \op{\ntuple{x_1}{x_m}}{x_{m+1}}, \\
        \ntuple{y_1,\dots,y_m}{y_{m+1+k}}\ =\ \op{\ntuple{y_1}{y_{m+k}}}{x_{m+k+1}}
      \end{gather*}
      となっている.
      つまり各第一成分が等しいということなので
      \begin{equation*}
        \ntuple{x_1}{x_m}\ =\ \ntuple{y_1}{y_{m+k}}
      \end{equation*}
      が分かり,
      $m$のときに成立していたことから$x_1=\ntuple{y_1}{y_{k+1}}$であることが分かる. \qedhere
  \end{itemize}
\end{proof}

テキストでは例えとして「たとえば,
$A$は集合で,
$A$のどの要素も他の要素からなる有限列とは一致しないと仮定します.
そのとき,
$\ntuple{x_1}{x_m}=\ntuple{y_1}{y_n}$であって,
$x_i$や$y_i$それぞれが$A$に属する場合,
上の補題によって$m=n$です.
さらに,
結果的に,
それぞれの$i$について$x_i=y_i$となります.」
とありますが個人的に分かりづらかったので具体例を挙げます.

\begin{example}[]
  \label{example:集合として一致するが長さが異なる有限列}
  集合$A$を$A=\{ 0,1,\op{2}{3} \}$とすると,
  この$A$の要素で（集合として）等しくなるようなどんな2つの$n$個組を作っても,
  それが等しい限りはその長さも構成成分の順番も等しくなる. \\
  逆に$A=\{ 0,1,\op{0}{1},\op{0,1}{0} \}$として,
  $A$の有限列$S_1,S_2$を
  \begin{gather*}
    S_1\ =\ \op{\op{0,1}{0}}{1}, \\
    S_2\ =\ \op{\op{0}{1},0}{1}
  \end{gather*}
  とすると,
  この2つは（集合として）$S_1=S_2$ではあるが,
  $S_1$の長さは$2$で$S_2$の長さは$3$,
  よって長さは一致せず,
  ゆえに構成成分も一致しない.
\end{example}

ここで有限列の長さの定義の曖昧さが少し影響がでてきます.
たとえばExample \ref{example:集合として一致するが長さが異なる有限列}の$S_1$は$\op{\op{0,1}{0}}{1}=\op{\op{0}{1},0}{1}$でもあるので,
これの長さとして$2$か$3$のどちらを採用すればよいか混乱します.
テキストに書いてある注意事項のように,
写像で定義すれば問題は解決できます.
関数の定義の先取りにはなってしまいますが,
たとえば$S_1$を$\map{ S_1 }{ \{ 1,2 \} }{A}$として,
$S_1(1)=\op{0,1}{0},\ S_1(2)=1$とすればよいです.
すると$S_1$と$S_2$はそもそも定義域が違う別の関数となるので混乱がなくなります.
しかしながら1章以降は$\{ 0,1,\op{0}{1},\op{0,1}{0} \}$のような集合から有限列を構成したりはしなません.
つまり$\{ 0,1,\op{2}{3} \}$のような「どの要素も他の要素からなる有限列とは一致しない」集合を扱うときには,
長さの定義に曖昧さがでることはないので,
特に長さの定義を意識する必要はないということです.
最初にこれの注意に該当することは\ThRef{theorem:可算集合の要素の有限列全体も可算}や,
\DefRef{definition:記号}下の注意事項\ \ref{remark:symbolの定義の「これらの記号のどれもが他の記号の有限な長さの列とは一致しない」部分}があてはまります.

\begin{definition}[直積集合(E:p4,\ K:p6)]
  \label{definition:直積集合}
  集合$A,B$と$n>1$な$n\in \mathbb{N}$に対し
  \begin{itemize}
    \item[1.]
      $A\times B\defeq \SetBar{ \op{a}{b} }{ a\in A\text{かつ}b\in B }$とし,
      これを$A$と$B$の\textbfgt{Cartesian product}{直積集合}という.
    \item[2.]
      $A^n\defeq A^{n-1}\times A$と帰納的に定義する.
      たとえば$A^3=(A\times A)\times A$である. \qedhere
  \end{itemize}
\end{definition}
\index{ちょくせきしゅうごう@直積集合}\index{Cartesian product}
\RegisterInSymbolList{$X\times Y$}{definition:直積集合}

\begin{definition}[関係(E:p4~5,\ K:p6~7)]
  \label{definition:関係}
  集合$A,B,R$と$n>0$な$n\in \mathbb{N}$に対し
  \begin{itemize}
    \item[1.]
      $R$のすべての要素が順序対であるとき,
      $R$を\textbfgt{relation}{関係}という.
    \item[2.]
      関係$R$に対して
      $\dom(R)\defeq \SetBar{x}{ \text{ある$y$について$\op{x}{y}\in R$} }$とし,
      これを関係$R$の\textbfgt{domain}{定義域}という. \\
      さらに$\ran(R)\defeq \SetBar{y}{ \text{ある$x$について$\op{x}{y}\in R$} }$とし,
      これを関係$R$の\textbfgt{range}{値域}という. \\
      さらに$\fld(R)\defeq \dom(R)\cup \ran(R)$とし,
      これを関係$R$の\textbfgt{field}{領域}という.
      \footnote{
        テキストでは$\dom(R),\ran(R),\fld(R)$ではなく$\dom R,\ran R,\fld R$と「$()$」が付いていないですが,
        個人的な好みから「$()$」をつけることにします.
        その理由として板書した際に字体の書き分けが下手なので,
        例えば$\dom$と$R$の境目が分かりにくくなるからです.
      }
      \footnote{
        $\fld(R)$というものはここで初めて見ました.
      }
    \item[3.]
      $R\subseteq A^n$であるとき,
      そんな$R$を$A$上の$n$項関係という.
    \item[4.]
      $B\subseteq A$かつ$R$が$A$上の$n$項関係であるとき,
      $R\cap B^n$を$R$の$B$への\textbfgt{restriction}{制限}という. \qedhere
  \end{itemize}
\end{definition}
\index{かんけい@関係}\index{relation}
\index{ていぎいき@（関係の）定義域}\index{domain}
\index{ちいき@（関係の）値域}\index{range}
\index{りょういき@（関係の）領域}\index{field}
\index{せいげん@（関係の）制限}\index{restriction}
\RegisterInSymbolList{$\dom(R)$}{definition:関係}
\RegisterInSymbolList{$\ran(R)$}{definition:関係}
\RegisterInSymbolList{$\fld(R)$}{definition:関係}

\begin{example}[E:p4~5,\ K:p6~7]
  集合$R_1,R_2\subseteq \mathbb{N}^2$に対し
  \begin{itemize}
    \item[1.]
      $R_1=\{\op{0}{1},\op{0}{2},\op{0}{3},\op{1}{2},\op{1}{3},\op{2}{3}\}$とおくと,
      $R_1$は$0$から$3$までの数の間の大小関係となる.
      さらに$\dom(R)=\{ 0,1,2 \},\ \ran(R)=\{ 1,2,3 \},\ \fld(R)=\{ 0,1,2,3 \}$となる.
    \item[2.]
      $R_2 = \SetBar{ \op{m}{n} }{ m<n }$とおくと,
      $R_2$は$\mathbb{N}$上の大小関係となり,
      $B=\{ 0,1,2,3 \}$とすれば$R_1=R_2 \cap B^2$となるから$R_1$は$R_2$の$B$への制限である. \qedhere
  \end{itemize}
\end{example}

\begin{definition}[写像(E:p5,\ K:p7~8)]
  \label{definition:写像}
  \label{definition:単射}
  \label{definition:全射}
  \label{definition:全単射}
  \label{definition:恒等写像}
  集合$A,B$と関係$F$に対して
  \begin{itemize}
    \item[1.]
      $F$が「$\dom(F)$のそれぞれの要素$x$について,
      $\op{x}{y}\in F$なる$y$がただひとつ存在する」（論理式で書くと$\forall x\in \dom(F)\exists !y(\op{x}{y}\in F)$）をみたすとき,
      $F$は\textbfgt{function}{写像}であるという.
      \footnote{
        個人的にはmapは写像,
        functionは関数と訳すのが好みですが,
        ここはテキストとその和訳に合わせてfunctionを写像と訳すことにします.
      }
      このとき$x\in \dom(F)$に対して一意的に存在している$y$のことを$F(x)$で表し,
      $F$の$x$における\textbfgt{value}{値}という.
    \item[2.]
      写像$F$が$\dom(F)=A$かつ$\ran(F)\subseteq B$をみたすとき,
      $F$は$A$を$B$に\textgt{写す}といい,
      $\map{F}{A}{B}$で表す.
      \footnote{
        これを見たときもしかしたら$\ran(R)$の部分集合関係に合わせて$\dom(F)\subseteq A$としなくてはいいのかと,
        疑問に思う人もいるかもしれません.
        もしそうすると定義域に対応要素のない要素が存在することを許してしまいます.
        それを許したうえで$\dom(F)=A$なる写像に\textgt{全域写像}と名付ける流儀もあります.
        たとえば『論理と集合から始める数学の基礎』\cite{Basic001}では$\dom(F)\subseteq A$かつ$\ran(F)\subseteq B$なるものを「$A$から$B$への部分写像」,
        $F$による$x$の値が存在しないとき「$F(x)$は未定義」といい,
        部分写像が$\dom(F)=A$を満たした場合にそれを全域写像もしくは単に写像と呼んでいます.
      }
    \item[3.]
      $\map{F}{A}{B}$であるとき,
      $\ran(F)=B$をみたすとき,
      $F$は$A$から$B$への\textbfgt{surjection}{全射}
      \footnote{
        このテキストでは「$B$全体へ写す」と表現しています.
        それならまだしも「上への写像」という言い方もありますが,
        これは何が「上」なのか個人的にイメージしづらく使わないようにしています.
      }
      であるといい,
      $\SurjectionMap{F}{A}{B}$で表す.
      \footnote{
        これはテキストでは導入されていなかったけれど,
        あると便利なので導入しました.
      }
      \ \\
      「$\ran(F)$のそれぞれの要素$y$について,
      $\op{x}{y}\in F$をみたす$x$がただひとつ存在する」（論旨式で書くと$\forall y\in \ran(F)\exists !x(\op{x}{y}\in F)$）
      \footnote{
        ここでの単射の定義は初見では違和感がありました.
        なぜなら普段私は$F\subseteq A\times B$かつ$\forall a\in A\exists !b\in B(\op{a}{b}\in F)$をみたすものを,
        $A$から$B$への写像とよび$\map{F}{A}{B}$と表し,
        $\ran(F)=B$としていたためです.
        ここでの定義ならこれでよいと思われるが,
        個人的にはやはり「$\forall x_1,x_2,y(\ \op{x_1}{y}\in F\land\op{x_2}{y}\in F\ \to\ x_1=x_2\ )$」
        もっと分かりやすくして「$\forall x_1,x_2(\ F(x_1)=F(x_2)\ \to\ x_1=x_2\ )$」か,
        「$\to$」部分で対偶をとった「$\forall x_1,x_2(\ x_1\neq x_2\ \to\ F(x_1)\neq F(x_2)\ )$」の方が好みです.
      }
      をみたすとき,
      $F$は$A$から$B$への\textbfgt{injection}{単射}
      \footnote{
        このテキストでは「$F$が1対1である」と表現している.
        しかし全単射に対してこの言い方を使うテキストもあるし,
        個人的には全単射の方が1対1なるイメージを持っているためここでは「単射」を使うことにしました.
      }
      であるといい,
      $\InjectionMap{F}{A}{B}$で表す.
      \footnote{
        これも上に同様.
        先の脚注で単射には「1対1」なるイメージがないためこの言葉を使わないと言いつつ,
        単射であることに略記にはそれを意味するような「$1-1$」を使ってしまっている点で,
        私の記法もそこまで一貫性があるわけではないとゼミ発表中に思いました.
      }
      \ \\
      全射かつ単射な写像を\textbfgt{bijection}{全単射}といい,
      \footnote{
        テキストでは定義されていなかったので用意しておいた.
      }
      $\BijectionMap{F}{A}{B}$で表す.
      \footnote{
        同上.
      }
    \item[4.]
      オブジェクト$x,y$とその順序対$\op{x}{y}$と写像$F$に対して,
      $\op{x}{y}\in \dom(F)$であるとき$F(\op{x}{y})$を単に$F(x,y)$で表す.
      より一般的に$F(\ntuple{x_1}{x_n})$を$F(x_1,\dots,x_n)$で表す.
      \footnote{
        つまり普段2変数関数で使う記法を導入したことになります.
      }
    \item[5.]
      $F=\SetBar{ \op{x}{x} }{ x\in A }$であるとき,
      $F$を$A$上の\textbfgt{identity function}{恒等写像}といい,
      この$F$を$\id_A$で表す.
      \footnote{
        テキストでは$\mathrm{Id}$と書いていますが「$A$上の」というからにはせめて$\mathrm{Id}_{A}$と書く方が好き.
        そして$\mathrm{Id}$より$\mathrm{id}$が好きなのでこのように定義しました.
      }
      \qedhere
  \end{itemize}
\end{definition}
\index{かんすう@関数}\index{function}
\index{しゃぞう@しゃぞう}\index{map}
\index{たんしゃ@単射（写像）}\index{injection}
\index{ぜんしゃ@全射（写像）}\index{surjection}
\index{ぜんたんしゃ@全単射（写像）}\index{bijection}
\index{こうとうしゃぞう@恒等写像}\index{identity map}
\RegisterInSymbolList{$\map{f}{X}{Y}$}{definition:写像}
\RegisterInSymbolList{$\InjectionMap{f}{X}{Y}$}{definition:単射}
\RegisterInSymbolList{$\SurjectionMap{f}{X}{Y}$}{definition:全射}
\RegisterInSymbolList{$\BijectionMap{f}{X}{Y}$}{definition:全単射}
\RegisterInSymbolList{$\id_X$}{definition:恒等写像}

\begin{definition}[演算(E:p5,\ K:p8)]
  \label{definition:演算}
  集合$A,B$と関係$f,g$に対して
  \begin{itemize}
    \item[1.]
      $\map{f}{A^n}{A}$であるとき$f$を$A$上の{\boldmath $n$}\textbf{-ary operation}（{\boldmath $n$}\textgt{項演算}）であるという.
    \item[2.]
      $A$上の$n$項演算$f$と$B\subseteq A$な集合$B$に対して,
      $g = f \cap(B^n\times A)$をみたす$g$を$f$の$B$への\textbfgt{restriction}{制限}という.
      \footnote{
        この$g$のことを$f\restric B$や$f|_B$で表すことがあります.
        個人的には$f\restric B$が好き（初めて見た記法がこれだったからという理由で）.
      }
    \item[3.]
      $A$上の$n$項演算$f$に対して,
      集合$B\subseteq A$が$f$について閉じているとは,
      どの$b_1,\dots,b_n\in B$についても$f(b_1,\dots,b_n)\in B$をみたす（論理式で書くと$\forall b_1,\dots,b_n\in B\big(\ f(b_1,\dots,b_n)\in B\ \big)$）ときをいう. \qedhere
  \end{itemize}
\end{definition}
\index{えんざん@演算}\index{operation}

\begin{example}[E:p5,\ K:p8]
  $\map{S_1}{ \mathbb{N}^2 }{ \mathbb{N} }$と$\map{S_2}{ \mathbb{N} }{ \mathbb{N} }$に対して
  \begin{itemize}
    \item[1.]
      $S_1$が任意の$m,n\in \mathbb{N}$に対し$S_1(m,n)=m+n$をみたすとすると,
      $S_1$は$\mathbb{N}$上の加法という$\mathbb{N}$上の2項演算となる.
    \item[2.]
      $S_2$が任意の$n\in \mathbb{N}$に対し$S_2(n)=n+1$をみたすとすると,
      $S_2$は$\mathbb{N}$上の直後の自然数を与えるという$\mathbb{N}$上の1項（単項）演算となる.
      \footnote{
        これはよく\textgt{後者関数}と呼ばれています.
      }
    \item[3.]
      $\map{P}{ \mathbb{R}^2 }{ \mathbb{R} }$が任意の$r_1,r_2\in \mathbb{R}$に対し$p(r_1+r_2)=r_1+r_2$をみたすとすると,
      $P$は$\mathbb{R}$上の加法という$\mathbb{R}$上の2項演算となり,
      1.の$S_1$は$P$の$\mathbb{N}$への制限,
      つまり$S_1=P\cap \mathbb{N}^3$となっている. \qedhere
  \end{itemize}
\end{example}

\begin{example}[E:p5,\ K:p8]
  集合$A,B$に対して
  \begin{itemize}
    \item[1.]
      $f$を$A$上の$n$項演算,
      $B\subseteq A$とし,
      $g$を$f$の$B$への制限とする.
      $g$が$B$上の$n$項演算となることと,
      $B$が$f$について閉じていることは同値である.
    \item[2.]
      $A$上の恒等写像$\id_A$は（何もしない・作用しないという）$A$上の単項演算である. \qedhere
  \end{itemize}
\end{example}

\begin{proof}
  1.のみ示す.
  主張「$g$が$B$上の$n$項演算となること」を$(1)$,
  「$B$が$f$について閉じている」を$(2)$とおいて,
  $(1)\Rightarrow(2)$と$(2)\Rightarrow(1)$の2つを示す.
  \begin{itemize}
    \item[]\hspace{-0.5cm}$(1)\Rightarrow(2)$ \\
      $f$の$B$への制限$g$が今$B$上の$n$項演算であることから,
      $\dom(g)=B^n$かつ$\ran(g)\subseteq B$をみたしている,
      もっというと$g=f\cap B^{n+1}=f\cap(B^n\times B)$をみたしている,
      これはつまり$(2)$をみたしていることになる.
    \item[]\hspace{-0.5cm}$(2)\Rightarrow(1)$ \\
      $B$が$f$について閉じている,
      つまり$g=f\cap B^{n+1}=f\cap(B^n\times B)$となっているので,
      $\dom(g)=B^n$かつ$\ran(g)\subseteq B$をみたしている,
      これはつまり$(1)$をみたしていることになる. \qedhere
  \end{itemize}
\end{proof}

普段閉じている演算ばかりを見ているので,
逆に閉じてない演算とはどんな例があるかという議論があったのでここにまとめます. \\
$\mathbb{R}$上の2項演算$+,-,\times$にて$\mathbb{R}$は閉じている.
有理数全体の集合を$\mathbb{Q}$とすると,
$\mathbb{Q}$上のこれらの演算は$\mathbb{R}$の演算の$\mathbb{Q}$への制限となる.
そして$\mathbb{Q}$についても,
そして$\mathbb{Z}$についても閉じている.
しかし演算$-$は$\mathbb{N}$については閉じていない. \\
$\div$についてはそもそもどう定義するか（0で割ることをどう避けるか）によって議論が変わりそうでありますが,
通常通り掛け算の逆演算として定義すれば$\mathbb{R}$と$\mathbb{Q}$については閉じていますが,
$\mathbb{N}$や$\mathbb{Z}$については閉じていません.

\begin{definition}[同値関係と順序関係(E:p5~6,\ K:p8~9)]
  \label{definition:同値関係}
  \label{definition:順序関係}
  集合$A$と関係$R$に対して
  \begin{itemize}
    \item[1.]
      $R$が$A$上で\textbfgt{reflexive}{反射的}とは,
      任意の$x\in A$について$\op{x}{x}\in R$であるこという.
    \item[2.]
      $R$が\textbfgt{symmetric}{対称的}とは,
      任意の$x,y$に対して$\op{x}{y}\in R$ならば$\op{y}{x}\in R$であるこという.
    \item[3.]
      $R$が\textbfgt{transitive}{推移的}とは,
      任意の$x,y,z$に対して$\op{x}{y}\in R$かつ$\op{y}{z}\in R$ならば$\op{x}{z}\in R$であるこという.
    \item[4.]
      $R$が$A$上で\textbfgt{trichotomy}{三分律}をみたすとは,
      任意の$x,y\in A$に対して$\op{x}{y}\in R,\ x=y,\ \op{y}{x}\in R$のいずれか1つをみたすこという.
    \item[5.]
      $R$が$A$上の\textbfgt{equivalence relation}{同値関係}であるとは,
      $R$が$A$上の2項演算でかつ$A$上で反射的・対称的・推移的であるときをいう.
    \item[6.]
      $R$が$A$上の\textbfgt{ordering relation}{順序関係}であるとは,
      $R$が$A$上の2項演算でかつ推移的であり$A$上で三分律をみたすときをいう. \qedhere
  \end{itemize}
\end{definition}
\index{はんしゃてき@（二項関係が）反射的}\index{reflexive}
\index{たいしょうてき@（二項関係が）対症的}\index{symmetric}
\index{すいいてき@（二項関係が）推移的}\index{transitive}
\index{さんぶんりつ@（二項関係の）三分律}\index{trichotomy}
\index{どうちかんけい@同値関係}\index{equivalence relation}
\index{じゅんじょかんけい@順序関係}\index{ordering relation}

ここで上の定義は「$A$上の」という言葉が付いたりそうでなかったりと一貫性がありません.
これについてゼミ中に出た意見をまとめると,
対称的,
推移的という2つの概念は,
関係$R$がどんな集合から作ったものか,
つまり$\fld(R)$がどのようなものか意識せずとも議論できる性質になっています.
一方で反射的や三分律をみたすといった概念はどの集合で議論するかでその定義を満たすかどうかが変わります.
仮に$x,y\notin \fld(R)$かつ$x\neq y$なモノ$x,y$とそれを要素としても持つ集合$A$があったとき,
この集合上では常に反射的にも三分律をみたしません.
なのでどの集合上で議論しているかがこの性質たちを満足するかどうかに関係してきます.
例えば何らかの集合上に定められた二項関係についてしか議論することがないならば,
この「$A$上の」のような文言は全て除外する,
もしくは全てに書くことで一貫性を与えることができます.
おそらく著者はここでは関係を単なる順序対の集合という素朴な定義にしたため,
このような定義になったのではと思われます.
確かに定義に不要な単語を使用しないという点では,
ここでの定義も一貫性があるといえます.

かねてよりの疑問として,
この特別な関係についての用語は「○○的」と「○○律をみたす」が混在することが不思議に思っています.
例えばここでは「三分律をみたす」のみが仲間外れなのでこれを「三分的」という用語に変えることも可能なはずです.
和訳がこうなっているわけではなく,
原著からこうなっています.
つまり海外でもこの言葉たちの統一感のなさは当たり前である可能性があります.
もし自分が何かテキストを書く機会があれば「○○的」か「○○律をみたす」のどちらかに（その時の好みに合わせて）統一してみたいと思っています.

ちなみに今現在持っている本を参考にすると,
議論の進め方によっては「三分律をみたす」に相当する定義が不要なため「○○律」に統一できている場合もありそうです.
例えば,
『集合と位相 (数学シリーズ)』\cite{Basic007}や『大学数学ベーシックトレーニング』\cite{Basic013}や『集合・位相・測度』\cite{Basic014}がそうです.

または議論の流れ上,
同値関係について扱うものの各定義に名前をつけない流儀・議論の進め方もありました.
例えば『数学の基礎 集合・数・位相 (基礎数学14)』\cite{Basic010}や『集合・位相入門』\cite{Basic015}や『現代集合論の探検』\cite{Set023}などです.

もちろんこのテキストと同じように三分律だけは「みたす」という言葉遣いになっているものもあります.
例えば『The Foundations of Mathematics』\cite{Set006}（その和訳『キューネン数学基礎論講義』\cite{Set07}）などです.

また変わったものとして『論理と集合から始める数学の基礎』\cite{Basic001}では同値類の議論の前に,
演習問題として各定義が紹介されますが,
その中で各定義に上のように「○○律」と統一的に命名していますが,
三分律だけはあえて名前をつけていないパターンでした.
ちなみにここでは他では見たことがない「非反射的反対称律」という名前が登場しています.

色々とあるのは分かりましたが,
まだ「○○的」で統一されているものは見つけられていません.
その他の流儀も含めて発見すればここに追記することにします.

またもう1つ細かい話として三分律の定義の揺れという問題もあるようです.
ここでは三分律をみたすとは,
任意の$x,y\in A$に対して$\op{x}{y}\in R,\ x=y,\ \op{y}{x}\in R$の「いずれか1つをみたす」という定義ですが,
文献によっては「いずれか1つをみたす」ではなく「いずれか1つ以上をみたす」というものもあるようです.
「いずれか1つをみたす」は論理式としては表現するのはめんどくさいですが,
「いずれか1つ以上をみたす」ならば「$\forall x,y(\ \op{x}{y}\in R\ \lor\  x=y \ \lor\ \op{y}{x}\in R\ )$」と書き表せます.
勉強会中に出た意見として「いずれか1つをみたす」は例えば
\begin{equation*}
  \forall x,y\big(\ (\ \op{x}{y}\in R\leftrightarrow x=y \leftrightarrow \op{y}{x}\in R\ )\ \land\ \ \ \lnot(\ \op{x}{y}\in R\land x=Y\land  \op{y}{x}\in R\ )\ \big)
\end{equation*}
と表せます.
ここで$\leftrightarrow$は双条件記号です. \\
ここで「いずれか1つをみたす」という三分律を強三分律,
「いずれか1つ以上をみたす」という三分律を弱三分律を呼ぶことにしてみます.
もちろんこの命名理由は強三分律から弱三分律を導出できることが明らかだからです.

\begin{definition}[同値類(E:p6,\ K:p9)]
  \label{definition:同値類}
  \label{definition:商集合}
  集合$A$上の同値関係$R$と$x\in A$に対して$[x]\defeq \SetBar{y}{ \op{x}{y}\in R }$とし,
  これを$x$の\textbfgt{equivalence class}{同値類}という. \\
  さらに集合$\SetBar{ [x] }{ x\in A }$を$A\backslash{R}$で表し,
  集合$A$の同値関係$R$による\textbfgt{quotient set}{商集合}という.
  \footnote{
    テキストでは定義してなかったですが,
    すぐ下の補題を示すときに記法として欲しかったので定義しておきました.
  }
\end{definition}
\index{どうちるい@同値類}\index{equivalence class}
\RegisterInSymbolList{$[x]$}{definition:同値類}
\RegisterInSymbolList{$A\backslash{R}$}{definition:商集合}

\begin{proposition}[E:p6,\ K:p9]
  集合$A$上の同値関係$R$に対して,
  $A$の各要素の同値類全体,
  つまり$R$による$A$の商集合は$A$の分割となる.
\end{proposition}

\begin{proof}
  $\mathcal{A}\subseteq \mathcal{P}(A)$が$A$の分割であるとは,
  $\mathcal{A}$が$\emptyset\notin \mathcal{A}$かつ互いに素で,
  さらに$\bigcup \mathcal{A}=A$をみたすこととし,
  これを$\SetBar{ [x] }{ x\in A } \subseteq \mathcal{P}(A)$,
  つまり先に定義した$A\backslash{R}$に対してこれを示す.
  \begin{itemize}
    \item[]\hspace{-0.5cm}$\emptyset\notin A\backslash{R}$であること \\
      同値類の定義から$\forall x( x\in [x] )$,
      つまりどの同値類も空でないので$A\backslash{R}$のどの要素も空でない.
    \item[]\hspace{-0.5cm}$A\backslash{R}$が互いに素であること \\
      任意に$X\neq Y$な$X,Y\in A\backslash{R}$をとると,
      それぞれに対し$x,y\in A$が存在して$X=[x],\ Y=[y]$となっている. \\
      $[x]\cap [y]=\emptyset$であることを示すため,
      $z\in [x]\cap [y]$なる$z$が存在したとする.
      $z\in [x]$より$\op{x}{z}\in R$,
      同様に$\op{y}{z}\in R$.
      $\op{y}{z}\in R$と$R$が$A$上の同値関係より対称的であることから$\op{z}{y}\in R$.
      さらに$\op{x}{z}\in R$と$R$が推移的であることから$\op{x}{y}\in R$. \\
      ここで$\forall a,b\in A(\ \op{a}{b}\in R\ \to \ [a]=[b]\ )$である.
      （この証明には必要ないが$\forall a,b\in A(\ [a]=[b]\ \to \ \op{a}{b}\in R\ )$,
      つまり$\forall a,b\in A(\ \op{a}{b}\in R\ \Leftrightarrow \ [a]=[b]\ )$も示せる）

      \begin{sub-block}{{\boldmath $\because$}\,}
        任意に$a,b\in A$をとり$\op{a}{b}\in $とする.
        $[a]\subseteq [b]$を示すためさらに任意に$c\in [a]$をとる.
        $\op{a}{b}\in R,\ \op{a}{c}\in R$より$R$が対称的かつ推移的なので$\op{b}{c}\in R$,
        つまり$c\in [b]$.
        同様にして$[b]\subseteq [a]$であることもわかる.
        つまり$[a]=[b]$.
      \end{sub-block}

      よって$\op{x}{y}\in R$から$[x]=[y]$であるが,
      これは仮定の$[x]\neq [y]$,
      つまり$X\neq Y$に矛盾.

    \item[]\hspace{-0.5cm}$\bigcup A\backslash{R}=A$であること \\
      $\bigcup A\backslash{R}\subseteq A$であることは明らか.
      $A\subseteq \bigcup A\backslash{R}$を示すため任意に$x\in A$をとる.
      $R$が$A$上反射的であることから$x\in [x]$,
      そして$[x]\subseteq A\backslash{R}$より$x\in \bigcup A\backslash{R}$. \qedhere
  \end{itemize}
\end{proof}

ここからはテキスト通り,
集合の濃度の話に移ります（可算までしかでてこないけど）.

\begin{notation}[E:p6,\ K:p9]
  自然数全体の集合$\{ 0,1,2,\dots \}$を$\mathbb{N}$で表す
  \footnote{
    テキストではなぜか二度目の記法の導入でした.
  }
\end{notation}

ここに「個々の自然数そのものを集合を使って定義する方法もあります」とあって,
テキストにある通り,
それに触れている○○節を見ると,
$ZF$公理系からの数学展開でよくやるNeumann流の順序数の定義の仕方を使うものでした.
\ToDoLater{
  実際に集合での自然数の構成をするようなページにたどり着いたときに,
  再度確認して○○部分を埋めておくこと.
  またもしZFCからの数学展開ノートができていれば,
  そのリンクもはる.
}

\begin{definition}[E:p6,\ K:p9]
  \label{definition:有限集合}
  \label{definition:無限集合}
  \label{definition:高々可算集合}
  \label{definition:可算集合}
  集合$A$に対して
  \begin{itemize}
    \item[1.] 集合$A$が\textbfgt{finite}{有限}であるとは,
      ある自然数$n\in \mathbb{N}$と$A$から$\{ 0,1,\dots, n-1 \}$写像$f$があって,
      $f$が全単射になっていることをいう
      （論理式で書くと$\exists n\in \mathbb{N}\exists f( \ \BijectionMap{f}{A}{ \{ 0,1,\dots, n-1 \} } \ )$）.
    \item[2.] 集合$A$が\textbfgt{infinite}{無限}であるとは,
      有限でないときをいう.
      つまり任意の$n\in \mathbb{N}$に対して$A$から$\{ 0,1,\dots, n-1 \}$への全単射写像が存在しないことをいう.
      言い換えればどんな$A$から$\{ 0,1,\dots, n-1 \}$の写像も全単射にならないともいえる.
      \footnote{
        よくよく見てみれば「無限」であるということはキチンと定義されていなかったので追加しました.
        一般的には無限とは有限でないという定義なので（それゆえに説明する必要がなかったのかも）,
        ここでいう有限の定義の否定をその定義とすることにしました.
      }
    \item[3.] 集合$A$が\textbfgt{at most countable}{高々可算}であるとは,
      $A$から$\mathbb{N}$への単射写像が存在するこという.
    \item[4.] 集合$A$が\textbfgt{countable}{可算}であるとは,
      $A$から$\mathbb{N}$への全単射写像が存在するこという.
      \footnote{
        テキストではここでいう「高々可算」を「可算」と呼んでいます.
        つまり「高々可算」と「可算」を区別してません.
        個人的には高々可算は便利な言葉だと思っているのと,
        他のノートとの整合性をとるためにも高々可算と可算は区別しておこうと思います.
        ちなみに高々可算の「高々」は数学特有の言葉として説明しているものもあります.
        もし「高々有限」をこれと同じように定義すると,
        $\exists n\in \mathbb{N}\exists f( \ \InjectionMap{f}{A}{ \{ 0,1,\dots, n-1 \} } \ )$となります.
        なので個別に「高々○○」を定義することも可能でしょうし,
        「高々○○」は○○であることを強調する,
        特有の言葉遣いとして説明する方法もありそうです.
        日常言語的には「せいぜい」とか「しょせん」とかそういう使い方です.
        「高々」を説明しているものとしては,
        例えば『Wikipedia『高々 (数学)』』\cite{Wiki001}や『数学ビギナーズマニュアル 第2版』\cite{Basic002}の37ページなどです. \\
        勉強会中にでた指摘として,
        英語圏ではここでいう高々可算をcountable,
        可算の方をdenumerableなどと呼ぶ人もいたり,
        またはその逆だったりとまだ用語として統一されている様子ではないようです.
      }
      \qedhere
  \end{itemize}
\end{definition}
\index{ゆうげん@有限（集合）}\index{finite}
\index{むげん@無限（集合）}\index{infinite}
\index{たかだかかさん@高々可算（集合）}\index{at most countable}
\index{かさん@可算（集合）}\index{countable}

\begin{proposition}[E:p6,\ K:p9]
  有限集合は高々可算.
\end{proposition}

\begin{proof}
  $A$を有限集合とすると,
  その定義より$A$に対し存在する$n\in \mathbb{N}$と$\map{f}{A}{ \{ 0,1,\dots, n-1 \} }$をそれぞれ固定します.
  $\map{f_{\mathbb{N}}}{A}{ \mathbb{N} }$を$f_{\mathbb{N}}(a)=f(a)$で定義すれば,
  $f_{\mathbb{N}}$は確かに$A$から$\mathbb{N}$への写像であり,
  $f$が単射であることから$f_{\mathbb{N}}$が単射であることも明らかである.
\end{proof}

\begin{proposition}[E:p6,\ K:p9]
  \label{proposition:高々可算な無限集合はNへの全単射が存在する}
  高々可算な無限集合$A$に対して$A$から$\mathbb{N}$への全単射写像が存在する.
\end{proposition}

\begin{proof}
  高々可算な無限集合$A$に対して,
  その定義から存在する単射写像$\map{f}{A}{ \mathbb{N} }$を1つ固定する.
  もし$f$が全射ならばそれで証明終わりなので,
  $f$は全射でない,
  つまり$\ran(f)\neq \mathbb{N}$とする.
  $n_i\in \mathbb{N}$を$\ran(f)$の中での$i$番目に小さい数,
  つまり$n_0= \min \ran(f)$,
  $n_{i+1}= \min(\ \ran(f)\setminus \{ n_0,\dots,n_i \}\ )$と帰納的に定義する.
  ここで$A$が無限であることと$f$が単射であることから,
  $\ran (f)$は無限集合なので,
  $n_i$をとる操作が有限で止まったりはしないことに注意. \\
  そして$\ran(f)=\SetBar{n_i}{i\in \mathbb{N}}$である.
  $\map{g}{\mathbb{N}}{A}$を$g(i)=f^{-1}(n_i)$で定めると,
  $g$はその作り方から全単射であり,
  $\map{f^{\prime}}{A}{\mathbb{N}}$を$f^{\prime}(a)=g^{-1}(a)$で定めると,
  これもその作り方から$A$から$\mathbb{N}$への全単射である.
\end{proof}


テキストの口語的な説明の方が分かりやすいとは思ったけれど,
あえて厳密に書くとこんな感じなのかなと.
ようは$A$の要素を並び替えたいわけですが,
そのときの並べ方として$f$による値域の中で小さいもの順に並べている感じです.

\begin{theorem}[E:p6 THEOREM 0B,\ K:p10 定理0B]
  \label{theorem:可算集合の要素の有限列全体も可算}
  $A$を高々可算集合とするとき,
  $A$の要素からなる有限列全体の集合も高々可算.
\end{theorem}

\begin{proof}
  $\mathcal{S}$を$A$の要素からなる有限列全体の集合とすると,
  有限列の定義\DefRef{definition:有限列}から$\mathcal{S}=\displaystyle \bigcup_{n\in \mathbb{N}}A^{n+1}$となる.
  $A$が高々可算集合であるから,
  $A$から$\mathbb{N}$への単射$f$を1つ固定する.
  $\mathcal{S}$から$\mathbb{N}$への写像$g$を,
  $s=\ntuple{a_0}{a_m}\in \mathcal{S}$に対して
  \begin{equation*}
    g(s)\ =\ \min \SetBar{ 2^{f(b_0)+1}\cdot 3^{f(b_1)+1}\dots p_{n}^{f(b_n)+1} }{ s=\ntuple{b_0}{b_n} \land \ntuple{b_0}{b_n} \in \mathcal{S} }
  \end{equation*}
  で定める.
  ここで$p_i$は$i$番目の素数を表しているとする. \\
  ここで$\map{g^{\prime}}{\mathcal{S}}{\mathbb{N}}$を,
  $g^{\prime}(\ntuple{a_0}{a_m})=2^{f(a_0)+1}\cdot 3^{f(a_1)+1}\dots p_{m}^{f(a_m)+1}$と定めると,
  $g$はこの$g^{\prime}$を用いて,
  $g(s)=\min \SetBar{ g^{\prime}(s^{\prime}) }{ s^{\prime} \in \mathcal{S} \land s^{\prime}=s }$や,
  $g(s) = \min g^{\prime}[ \, \SetBar{s^{\prime}}{s^{\prime} \in \mathcal{S} \land s^{\prime}=s} \, ]$と書くことができる. \\

  そして$g$はwell-definedである（これについてのさらなる議論は証明後に）.
  \begin{sub-block}{{\boldmath $\because$}\,}

    $\mathcal{S}$のような集合は,
    \ExRef{example:集合として一致するが長さが異なる有限列}の2つ目の$A$のように$s_1=\ntuple{a_0}{a_m}, s_2 = \ntuple{b_0}{b_n}\in \mathcal{S}$で,
    その長さが異なる,
    つまり$m \neq m$であるにも関わらず,
    （集合として）$s_1 = s_2$となる場合がある.
    そのような場合でも$g(s_1)=g(s_2)$となることを確かめればよい.
    そしてそんな$s_1,s_2$に対しても
    \begin{align*}
      g(s_1)\ &=\ \min \SetBar{ g^{\prime}(s) }{ s\in \mathcal{S} \land s=s_1 } \\
      &=\ \min \SetBar{ g^{\prime}(s) }{ s\in \mathcal{S} \land s=s_2 } \\
      &=\ g(s_2)
    \end{align*}
    となって,
    $g(s_1)=g(s_2)$である.
  \end{sub-block}

  写像$g$は単射である.
  \begin{sub-block}{{\boldmath $\because$}\,}
    任意に$s_1 \neq s_2$なる$s_1,s_2\in \mathcal{S}$をとり,
    $g(s_1)=g(s_2)$だったとする.
    $g(s_1)=g(s_2)$より$\min g^{\prime}[ \, \SetBar{ s\in \mathcal{S} }{s=s_1} \, ]=\min g^{\prime}[ \, \SetBar{ s\in \mathcal{S} }{s=s_2} \, ]$だから,
    $n\in g^{\prime}[ \, \SetBar{ s\in \mathcal{S} }{s=s_1} \, ]\cap g^{\prime}[ \, \SetBar{ s\in S }{s=s_2} \, ]$なる$n\in \mathbb{N}$が存在することになる.
    そんな$n$に対して$g(s)=n$かつ$s=s_1$かつ$s=s_2$なる$s\in \mathcal{S}$が存在することになる.
    するとこの$s$を介して$s_1=s_2$となるが,
    これは矛盾.
  \end{sub-block}
  よってそんな単射写像$g$の存在から$S$は高々可算である.
\end{proof}

証明に関するさらなる議論として,
テキストでは$g(s) = g(\ntuple{a_0}{a_m})=2^{f(a_0)+1}\cdot 3^{f(a_1)+1}\dots p_{m}^{f(a_m)+1}$と定義してしまうと,
つまり$g^{\prime}$を$g$の定義としておくと,
（こちらの方が各有限列を1つの自然数に対応させようと,
素数を使ってコーディングしようとしている意図が伝わって分かりやすいものの）,
$g$はwell-definedにならないことが書いてあります.
どのような場合にwell-definedにならないか具体的な例を挙げてみると,
well-defined性を確かめている部分にも書いてある通り,
$A=\{ 0,1,\op{0}{1},\op{0,1}{0} \}$とし,
その要素からなる以下のような2つの有限列$s_1,s_2$を,
\begin{gather*}
  s_1\ =\ \op{\op{0,1}{0}}{1}, \\
  s_2\ =\ \op{\op{0}{1},0}{1}
\end{gather*}
としてみる.
すると2つの列は見かけ（の長さ）は違うものの,
\ExRef{example:集合として一致するが長さが異なる有限列}で説明した通り,
集合としては同じものです.
そして$\mathbb{N}$への単射を
\begin{equation*}
  f(0)=0,\ f(1)=1,\ f(\op{0}{1})=2,\ f(\op{0,1}{0})=3
\end{equation*}
のように定めてみれば,
\begin{gather*}
  g(s_1)\ =\ 2^{f(\op{0,1}{0})+1}3^{f(1)+1}\ =\ 2^4 3^2, \\
  g(s_2)\ =\ 2^{f(\op{0}{1})+1}3^{f(0)+1}5^{f(1)+1}\ =\ 2^3 3^1 5^2
\end{gather*}
となり$g(s_1) \neq g(s_2)$となりますが,
集合としては$s_1=s_2$であるため,
$g(s_1) = g(s_2)$とならなくてはならず,
口語的には写る先が1つに定まらないともいえて,
これでは$g$が写像としては矛盾しています. \\

\ExRef{example:集合として一致するが長さが異なる有限列}のすぐ下でも書きましたが,
有限列は写像でもって定義することもできます.
例えば上の例にだした$s_1,s_2$も,
$\map{s_1}{ \{ 0,1 \} }{A},\map{s_2}{ \{ 0,1,2 \} }{A}$で,
\begin{gather*}
  s_1(0) = \op{0,1}{0},\ s_1(1)=1, \\
  s_2(0) = \op{0}{1},\ s_2(1)=0,\ s_2(2)=1
\end{gather*}
と定めれば,
（写像として）$s_1 \neq s_2$です.
すると写像$g$を,
$\map{s}{ \{ 0,\dots, m \} }{A}$に対し$s(i)=a$なる$a\in A$を$a_i$と表すことにすれば,
つまり
\begin{equation*}
  g(s)\ =\ 2^{s^{-1}(a_0)+1}\cdot 3^{s^{-1}(a_1)+1}\dots p_{m}^{s^{-1}(a_m)+1}
\end{equation*}
と定めれば,
\footnote{
  テキストでは導入されていないけれど,
  $s^{-1}$は$s$の逆写像を表しています.
}
$g(s_1)\neq g(s_2)$となって写像としてもwell-definedとなり,
上のように$\min$を使う必要もなくなります.
つまり写像で定義すれば,
順序対の入れ子構造で定義したときのように長さが違うがモノとして異なるような例は,
$A$がどんな集合でも生まれることはありません.
なぜなら写像で定義した場合の「列の長さ」とは定義域の要素の数のことであり,
つまり長さが違えば,
それはつまり写像として定義域が異なることになって,
その対応規則がどうあれ一致することはないからです. \\

そうは言い切ったものの,
そのあとで本当にそうなのか疑問に思ってしまいました.
なぜなら写像も順序対の集合であり,
そうなると順序対を集合で書き直せば,
集合だけを用いて書き直すことができます（順序対よりも構造がかなり複雑にはなっていると思うが）.
そうなると長さが異なるが集合として一致する順序対の例があるように,
定義域が異なる（つまり含まれる順序対の数が一致しない）が,
集合としては一致することはあるのだろうか？
今後の課題としておきます.

\begin{future research topics}
  \label{future research topics:対応規則は異なるが集合として一致する写像は存在するか？}
  対応規則（の数や内容）が異なる（写像としては異なるように見える）が,
  要素になっている順序対も全て集合に書き直したとき,
  集合として一致するような写像の組み合わせは存在するか？
\end{future research topics}

ここから\textbfgt{tree}{木}についての話題が始まりますが,
今後どれほど大事なのか分からないので,
一旦飛ばすことにします. \\
\ToDoLater{
  最後らへんまで読んで木の使い方が分かったらどのような使い方だったか書く.
}

続いて選択公理の話題が入ります.
テキストでは「問題となる定理を可算な言語の場合に制限することで,
選択公理の使用はたいてい回避できます」とあります.
\ToDoLater{
この選択公理の回避の例が出てきたら,
ここにリンクを貼る.
}

\begin{definition}[E:p7 ,\ K:p12]
  集合族$\mathcal{C}$が\textbfgt{chain}{鎖}であるとは,
  任意の$X,Y\in \mathcal{C}$に対して$X\subseteq Y$か$Y\subseteq X$のいずれかが成立することをいう.
\end{definition}
\ToDoLater{
  ZFC復習やったらここに鎖の定義の参照を書く.
}

\begin{lemma}[E:p7 ZORN'S LEMMA,\ K:p12 ツォルンの補題]
  \label{lemma:ツォルンの補題}
  集合族$\mathcal{A}$が
  \begin{equation*}
    \text{任意の$\mathcal{C}\subseteq \mathcal{A}$が鎖ならば$\bigcup \mathcal{C}\in \mathcal{A}$}
  \end{equation*}
  を満たすとき,
  $\mathcal{A}$には超集合関係にて極大な要素$A$が存在する,
  つまり$A$はどの$X\in \mathcal{A}$に対しても$A\subsetneq X$となることはない.
\end{lemma}
\ToDoLater{
  ツォルンの補題.
  ZFC復習やったらここに証明へのリンクをはる.
}

\subsection*{基数}
\label{subsection:基数}
\subfile{chapter_集合についての予備知識/subsection_基数.tex}

\end{document}
